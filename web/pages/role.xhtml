<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition template="/layout/template.xhtml">
        <ui:define name="page_title">
            Role Detail
        </ui:define>
        <ui:define name="layout_content">
            <p:layoutUnit id="pnlCenter" position="center">
                <p:messages id="msg"/>
                <h:form id="frmRole">      
                    <p:panel id="pnlCommand" >
                        <p:commandButton process="@this" id="cmdAdd" value="Thêm " actionListener="#{roleController.preAdd}" update="pnlTable pnlCommand pnlAdd" rendered="#{roleController.mblnView}"/>
                        <p:commandButton process="@this" id="cmdBack" value="Quay lại " actionListener="#{roleController.back}" update="pnlTable pnlCommand pnlAdd" rendered="#{!roleController.mblnView}"/>
                        <p:commandButton id="cmdSave" process="@this,pnlAdd"  value="Ghi " actionListener="#{roleController.save}" update="pnlTable pnlCommand pnlAdd :msg" rendered="#{!roleController.mblnView}" />
                    </p:panel>
                    <p:panel id="pnlTable" visible="#{roleController.mblnView}">       
                        <p:dataTable id="dtRole" var="role" value="#{roleController.mlistRole}" paginator="true" paginatorPosition="bottom">
                            <p:column>
                                <h:outputText value="#{role.roleID}"/>
                            </p:column>
                            <p:column>
                                <h:outputText value="#{role.roleName}"/>
                            </p:column>
                            <p:column>
                                <p:commandLink id="cmdEdit" process="@this" actionListener="#{roleController.preEdit(role)}" update=":frmRole:pnlAdd :frmRole:pnlTable :frmRole:pnlCommand">
                                    Sửa
                                </p:commandLink>
                                <p:commandLink id="cmdDelete" process="@this" actionListener="#{roleController.delete(role)}" update=":frmRole:pnlAdd :frmRole:pnlTable :frmRole:pnlCommand">
                                    ||Xóa
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                    <p:panel id="pnlAdd" visible="#{!roleController.mblnView}" >
                        <p:panelGrid  columns="2" rendered="#{roleController.mrole!=null}">
                            <p:outputLabel value="Quyền " for="txtRoleName"/>
                            <p:inputText id="txtRoleName" value="#{roleController.mrole.roleName}" required="true" requiredMessage="Nhập quyền" validatorMessage="Dữ liệu không đúng định dạng">
                            </p:inputText>
                        </p:panelGrid>
                    </p:panel>
                </h:form>
            </p:layoutUnit>
        </ui:define>
    </ui:composition>
</html>

